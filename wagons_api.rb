require 'rubygems'
require 'httparty'
require 'multi_json'
require 'pry'

class MicrourbRest
  include HTTParty
  base_uri 'http://45.89.225.49:9999/api/stations/v1.0'

  def wagons (i)
    self.class.get("/#{i}/wagons")
  end

end

counter = 1
loop do
	wg = MicrourbRest.new.wagons(296) #это хеш который содержит два элемента один из которых хеш и содержит в себе массив в котором хеш, и один из элементов
		                                  #тоже хеш и этот хеш является хешом состояния вагонов
	fileHtml = File.new("/var/www/html/wagons-api/index.html", "w+") #генерирует вьюху   "/var/www/html/wagons-api/index.html"
	fileHtml.puts "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title></title><link rel=\"stylesheet\" href=\"/css/all.css\"></head><body><div class=\"container\" width=\"10px\">" # генерирует то что в ковычках

	station_counter = 1
	wg["data"].each do |station_id, trains|# перебераем хеш элемента "data"
	  #binding.pry
	  break if station_counter > 1
	  station_counter += 1
    train_counter = 1
	  trains.each do |train| # перебераем хеш каждой станции
			if train["arrivalTime"].to_i < 10 && trains.length > 1
				next
			end
			break if train_counter > 1
		  train_counter += 1
			items = [] # инициализируем массив
	    train["wagons"].sort.each do |wagon_id, value| # перебераем все вагоны и сортируем

	      puts wagon_id + ':' + value # выводим айди и статус вагона

				if value == "low" #20% # если статус лоу, то
	        items << "<svg width=\"350\" height=\"130\" viewBox=\"0 0 350 100\"><text fill=\"#34C759\" x=\"175\" y=\"0\">#{wagon_id}</text><rect x=\"2\" y=\"2\" width=\"346\" height=\"96\" fill=\"none\" rx=\"4\" ry=\"4\" stroke=\"#34C759\" stroke-width=\"4\"></rect><g class=\"column column-1\"><circle cx=\"19\" cy=\"18\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"19\" cy=\"39\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"19\" cy=\"61\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"19\" cy=\"82\" r=\"9\" fill=\"#34C759\"></circle></g><g class=\"column column-2\"><circle cx=\"43\" cy=\"18\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"43\" cy=\"39\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"43\" cy=\"61\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"43\" cy=\"82\" r=\"9\" fill=\"#34C759\"></circle></g><g class=\"column column-3\"><circle cx=\"67\" cy=\"18\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"67\" cy=\"39\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"67\" cy=\"61\" r=\"9\" fill=\"#34C759\"></circle><circle cx=\"67\" cy=\"82\" r=\"9\" fill=\"#34C759\"></circle></g><text x=\"82\" y=\"65\" font-size=\"50px\" font-weight=\"bold\" fill=\"#34C759\">20%</text></svg>"
				  elsif value == "medium"   #50% # иначе если медиум
	        items << "<svg width=\"350\" height=\"130\" viewBox=\"0 0 350 100\"><text fill=\"#FFCC00\" x=\"175\" y=\"0\">#{wagon_id}</text><rect x=\"2\" y=\"2\" width=\"346\" height=\"96\" fill=\"none\" rx=\"4\" ry=\"4\" stroke=\"#FFCC00\" stroke-width=\"4\"></rect><g class=\"column column-1\"><circle cx=\"19\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"19\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"19\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"19\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-2\"><circle cx=\"43\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"43\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"43\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"43\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-3\"><circle cx=\"67\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"67\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"67\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"67\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-4\"><circle cx=\"91\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"91\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"91\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"91\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-5\"><circle cx=\"115\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"115\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"115\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"115\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-6\"><circle cx=\"139\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"139\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"139\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"139\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><g class=\"column column-7\"><circle cx=\"163\" cy=\"18\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"163\" cy=\"39\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"163\" cy=\"61\" r=\"9\" fill=\"#FFCC00\"></circle><circle cx=\"163\" cy=\"82\" r=\"9\" fill=\"#FFCC00\"></circle></g><text x=\"178\" y=\"65\" font-size=\"50px\" font-weight=\"bold\" fill=\"#FFCC00\">50%</text></svg>"               # то желтый
	      elsif value == "mediumHigh"#80% # и т.д.
	        items << "<svg width=\"350\" height=\"130\" viewBox=\"0 0 350 100\"><text fill=\"#FF9500\" x=\"175\" y=\"0\">#{wagon_id}</text><rect x=\"2\" y=\"2\" width=\"346\" height=\"96\" fill=\"none\" rx=\"4\" ry=\"4\" stroke=\"#FF9500\" stroke-width=\"4\"></rect><g class=\"column column-1\"><circle cx=\"19\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"19\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"19\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"19\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-2\"><circle cx=\"43\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"43\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"43\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"43\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-3\"><circle cx=\"67\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"67\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"67\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"67\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-4\"><circle cx=\"91\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"91\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"91\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"91\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-5\"><circle cx=\"115\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"115\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"115\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"115\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-6\"><circle cx=\"139\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"139\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"139\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"139\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-7\"><circle cx=\"163\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"163\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"163\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"163\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-8\"><circle cx=\"187\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"187\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"187\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"187\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-9\"><circle cx=\"211\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"211\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"211\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"211\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-10\"><circle cx=\"235\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"235\" cy=\"39\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"235\" cy=\"61\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"235\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><g class=\"column column-11\"><circle cx=\"259\" cy=\"18\" r=\"9\" fill=\"#FF9500\"></circle><circle cx=\"259\" cy=\"82\" r=\"9\" fill=\"#FF9500\"></circle></g><text x=\"250\" y=\"65\" font-size=\"50px\" font-weight=\"bold\" fill=\"#FF9500\">80%</text></svg>"
	      elsif value == "high" #100%
	        items << "<svg width=\"350\" height=\"130\" viewBox=\"0 0 350 100\"><text fill=\"#FF3B30\" x=\"175\" y=\"0\">#{wagon_id}</text><rect x=\"2\" y=\"2\" width=\"346\" height=\"96\" fill=\"none\" rx=\"4\" ry=\"4\" stroke=\"#FF3B30\" stroke-width=\"4\"></rect><g class=\"column column-1\"><circle cx=\"19\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"19\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"19\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"19\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-2\"><circle cx=\"43\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"43\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"43\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"43\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-3\"><circle cx=\"67\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"67\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"67\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"67\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-4\"><circle cx=\"91\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"91\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"91\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"91\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-5\"><circle cx=\"115\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"115\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"115\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"115\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-6\"><circle cx=\"139\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"139\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-7\"><circle cx=\"163\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"163\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-8\"><circle cx=\"187\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"187\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-9\"><circle cx=\"211\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"211\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-10\"><circle cx=\"235\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"235\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-11\"><circle cx=\"259\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"259\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"259\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"259\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-12\"><circle cx=\"283\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"283\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"283\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"283\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-13\"><circle cx=\"307\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"307\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"307\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"307\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><g class=\"column column-14\"><circle cx=\"331\" cy=\"18\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"331\" cy=\"39\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"331\" cy=\"61\" r=\"9\" fill=\"#FF3B30\"></circle><circle cx=\"331\" cy=\"82\" r=\"9\" fill=\"#FF3B30\"></circle></g><text x=\"130\" y=\"65\" font-size=\"50px\" font-weight=\"bold\" fill=\"#FF3B30\">100%</text></svg>"
	      else
	        items << "<svg width=\"350\" height=\"130\" viewBox=\"0 0 350 100\"><text fill=\"#6D7885\" x=\"175\" y=\"0\">#{wagon_id}</text><rect x=\"2\" y=\"2\" width=\"346\" height=\"96\" fill=\"none\" rx=\"4\" ry=\"4\" stroke=\"#6D7885\" stroke-width=\"4\"></rect><g class=\"column column-1\"><circle cx=\"19\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"19\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"19\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"19\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-2\"><circle cx=\"43\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"43\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"43\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"43\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-3\"><circle cx=\"67\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"67\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"67\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"67\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-4\"><circle cx=\"91\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"91\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"91\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"91\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-5\"><circle cx=\"115\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"115\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"115\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"115\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-6\"><circle cx=\"139\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"139\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"139\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"139\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-7\"><circle cx=\"163\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"163\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"163\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"163\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-8\"><circle cx=\"187\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"187\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"187\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"187\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-9\"><circle cx=\"211\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"211\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"211\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"211\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-10\"><circle cx=\"235\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"235\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"235\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"235\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-11\"><circle cx=\"259\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"259\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"259\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"259\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-12\"><circle cx=\"283\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"283\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"283\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"283\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-13\"><circle cx=\"307\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"307\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"307\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"307\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g><g class=\"column column-14\"><circle cx=\"331\" cy=\"18\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"331\" cy=\"39\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"331\" cy=\"61\" r=\"9\" fill=\"#6D7885\"></circle><circle cx=\"331\" cy=\"82\" r=\"9\" fill=\"#6D7885\"></circle></g></svg>"  #если ничего не подошло, то серый цвет присваиваем в color
	      end
	    end

	    puts "\n" # выводит пустую строчку для отделения в консоле
	    wagon_html = items.join("\n") + "<br>"# инициализируем переменную и в неё из массива заносим html код в одной строчке
	    fileHtml.puts wagon_html # заливаем в созданный html файл наш код
	    puts items # выводим массив со значениями вагонов в консоле
	    puts "\n"# выводит пустую строчку для отделения в консоле
	  end
	end
	# binding.pry
	fileHtml.puts " </div></body></html>" #закрываем нашу разметку
	fileHtml.close() # закрываем файл

	counter += 1
	break if counter > 5 # выйти из цикла после 50 секунд. крон запустит скрипт через минуту
	sleep(10) # уснуть на 10 секунд
end
